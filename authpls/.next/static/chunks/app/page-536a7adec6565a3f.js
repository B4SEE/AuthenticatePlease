(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1636:function(e,t,s){Promise.resolve().then(s.bind(s,8836))},8792:function(e,t,s){"use strict";s.d(t,{default:function(){return a.a}});var n=s(5250),a=s.n(n)},7907:function(e,t,s){"use strict";var n=s(5313);s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})},8836:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var n=s(3827),a=s(4090),r=s(8792),o=s(7907);function l(){let e=(0,o.useRouter)(),[t,s]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),[i,u]=(0,a.useState)(""),[d,h]=(0,a.useState)(!0),[m,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{try{if((await fetch("/api/auth/user")).ok){e.push("/dashboard");return}}catch(e){}finally{h(!1)}})()},[e]);let x=()=>t.trim()?l.trim()?!(l.length<6)||(u("Password must be at least 6 characters long"),!1):(u("Password is required"),!1):(u("Username is required"),!1),b=async s=>{if(s.preventDefault(),u(""),x()){f(!0);try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:l})}),n=await s.json();s.ok?e.push("/dashboard"):u(n.message||"Login failed")}catch(e){u("An error occurred. Please try again.")}finally{f(!1)}}};return d?(0,n.jsx)("div",{className:"min-h-screen bg-[#0A192F] flex items-center justify-center font-mono text-[#5FFBF1] text-xl",children:"Loading..."}):(0,n.jsxs)("div",{className:"min-h-screen bg-[#0A192F] font-mono flex flex-col items-center justify-center p-4",children:[(0,n.jsx)("h1",{className:"text-[#64FFDA] text-5xl font-mono mb-12",children:"AuthenticatePlease"}),(0,n.jsxs)("div",{className:"bg-[#0B1120] border-4 border-[#112240] shadow-heavy p-8 rounded-sm w-full max-w-md",children:[(0,n.jsx)("h2",{className:"text-[#64FFDA] text-3xl font-mono mb-2 text-center",children:"Login"}),(0,n.jsxs)("p",{className:"text-[#FF3366] mb-6 text-center",children:["Don't have an account?"," ",(0,n.jsx)(r.default,{href:"/create-account",className:"font-bold hover:underline",children:"Signup"})]}),i&&(0,n.jsx)("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500 text-red-500 rounded",children:i}),(0,n.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-gray-300 mb-2",htmlFor:"username",children:["Username ",(0,n.jsx)("span",{className:"text-[#FF4365]",children:"*"})]}),(0,n.jsx)("input",{type:"text",id:"username",value:t,onChange:e=>{s(e.target.value),u("")},placeholder:"Enter username",className:"w-full p-3 rounded bg-[#1A2C44] text-white border-transparent focus:outline-none focus:ring-2 focus:ring-[#64FFDA]",autoFocus:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-gray-300 mb-2",htmlFor:"password",children:["Password ",(0,n.jsx)("span",{className:"text-[#FF4365]",children:"*"})]}),(0,n.jsx)("input",{type:"password",id:"password",value:l,onChange:e=>{c(e.target.value),u("")},placeholder:"Minimum 6 characters",className:"w-full p-3 rounded bg-[#1A2C44] text-white border-transparent focus:outline-none focus:ring-2 focus:ring-[#64FFDA]",minLength:6})]}),(0,n.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-[#64FFDA] text-[#0A192F] font-extrabold text-lg py-3 rounded shadow-md transition-colors ".concat(m?"opacity-50 cursor-not-allowed":"hover:bg-[#52E9C2]"),children:m?"LOGGING IN...":"LOGIN"})]}),(0,n.jsx)("div",{className:"mt-6 text-left",children:(0,n.jsx)(r.default,{href:"/help",className:"text-[#64FFDA] hover:underline",children:"Need help?"})})]})]})}}},function(e){e.O(0,[250,971,69,744],function(){return e(e.s=1636)}),_N_E=e.O()}]);