(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[897],{1158:function(e,t,s){Promise.resolve().then(s.bind(s,4730))},8792:function(e,t,s){"use strict";s.d(t,{default:function(){return r.a}});var a=s(5250),r=s.n(a)},7907:function(e,t,s){"use strict";var a=s(5313);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},4730:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var a=s(3827),r=s(4090),n=s(8792),c=s(7907);function l(){let e=(0,c.useRouter)(),[t,s]=(0,r.useState)(""),[l,i]=(0,r.useState)(""),[o,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(!0),[m,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{if((await fetch("/api/auth/user")).ok){e.push("/dashboard");return}}catch(e){}finally{h(!1)}})()},[e]);let f=()=>t.trim()?t.length<3?(u("Username must be at least 3 characters long"),!1):l.trim()?!(l.length<6)||(u("Password must be at least 6 characters long"),!1):(u("Password is required"),!1):(u("Username is required"),!1),b=async s=>{if(s.preventDefault(),u(""),f()){x(!0);try{let s=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:l})}),a=await s.json();s.ok?e.push("/dashboard"):u(a.message||"Registration failed")}catch(e){u("An error occurred. Please try again.")}finally{x(!1)}}};return d?(0,a.jsx)("div",{className:"min-h-screen bg-[#0A192F] flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-[#64FFDA] text-xl font-mono",children:"Loading..."})}):(0,a.jsxs)("div",{className:"min-h-screen bg-[#0A192F] font-mono flex flex-col items-center justify-center p-4",children:[(0,a.jsx)("h1",{className:"text-[#64FFDA] text-5xl mb-12",children:"AuthenticatePlease"}),(0,a.jsxs)("div",{className:"bg-[#0B1120] border-4 border-[#112240] p-8 rounded-sm w-full max-w-md shadow-heavy",children:[(0,a.jsx)("h2",{className:"text-[#64FFDA] text-3xl mb-2 text-center",children:"Create Account"}),(0,a.jsx)("p",{className:"text-[#FF4365] mb-6 text-center font-thin",children:"Create a secure account"}),o&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500 text-red-500 rounded",children:o}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-gray-300 mb-2",htmlFor:"username",children:["Username ",(0,a.jsx)("span",{className:"text-[#FF4365]",children:"*"})]}),(0,a.jsx)("input",{type:"text",id:"username",value:t,onChange:e=>{s(e.target.value),u("")},placeholder:"Enter username (min. 3 characters)",className:"w-full p-3 rounded bg-[#1A2C44] text-white border-transparent focus:outline-none focus:ring-2 focus:ring-[#64FFDA]",minLength:3,autoFocus:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-gray-300 mb-2",htmlFor:"password",children:["Password ",(0,a.jsx)("span",{className:"text-[#FF4365]",children:"*"})]}),(0,a.jsx)("input",{type:"password",id:"password",value:l,onChange:e=>{i(e.target.value),u("")},placeholder:"Minimum 6 characters",className:"w-full p-3 rounded bg-[#1A2C44] text-white border-transparent focus:outline-none focus:ring-2 focus:ring-[#64FFDA]",minLength:6})]}),(0,a.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-[#64FFDA] text-[#0A192F] py-3 rounded font-extrabold text-lg transition-colors ".concat(m?"opacity-50 cursor-not-allowed":"hover:bg-[#4EEAE0]"),children:m?"CREATING ACCOUNT...":"CREATE ACCOUNT"}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(n.default,{href:"/",className:"text-[#64FFDA] hover:underline",children:"Already have an account? Login"})})]})]})]})}}},function(e){e.O(0,[250,971,69,744],function(){return e(e.s=1158)}),_N_E=e.O()}]);